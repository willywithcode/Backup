(()=>{$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".cancel-btn").click((function(t){var e=$(t.target).data("url");$(t.target).data("id");Swal.fire({title:"Bạn có chắc chắn muốn huỷ đơn hàng?",icon:"warning",buttonsStyling:!1,showCancelButton:!0,confirmButtonText:"Xác nhận",cancelButtonText:"Hủy thao tác",customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-light"}}).then((function(t){t.isConfirmed&&$.ajax({type:"DELETE",url:e,success:function(t){window.localStorage.setItem("success","Huỷ đơn hàng thành công!"),window.location.href="/order-history"}})}))}));var t,e,n,o,r,c,a,l=(c=function(t,n,c){o=t[0]?new Date(t[0]):null,r=t[1]?new Date(t[1]):null,$.fn.dataTable.ext.search.push((function(t,e,n){var c=o,a=r,l=new Date(moment($(e[3]).text(),"DD/MM/YYYY"));return null===c&&null===a||null===c&&a>=l||c<=l&&null===a||c<=l&&a>=l})),e.draw()},a=function(){t.querySelectorAll('[data-kt-ecommerce-order-filter="delete_row"]').forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var n=t.target.closest("tr"),o=n.querySelector('[data-kt-ecommerce-order-filter="order_id"]').innerText;Swal.fire({text:"Are you sure you want to delete order: "+o+"?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(t){t.value?Swal.fire({text:"You have deleted "+o+"!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){e.row($(n)).remove().draw()})):"cancel"===t.dismiss&&Swal.fire({text:o+" was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))}))},{init:function(){var o,r;(t=document.querySelector("#kt_ecommerce_sales_table"))&&((e=$(t).DataTable({info:!1,order:[],pageLength:10,columnDefs:[{orderable:!1,targets:6}]})).on("draw",(function(){a()})),o=document.querySelector("#kt_ecommerce_sales_flatpickr"),n=$(o).flatpickr({altInput:!0,altFormat:"d/m/Y",dateFormat:"Y-m-d",mode:"range",onChange:function(t,e,n){c(t,e,n)}}),document.querySelector('[data-kt-ecommerce-order-filter="search"]').addEventListener("keyup",(function(t){e.search(t.target.value).draw()})),r=document.querySelector('[data-kt-ecommerce-order-filter="status"]'),$(r).on("change",(function(t){var n=t.target.value;"all"===n&&(n=""),e.column(1).search(n).draw()})),a(),document.querySelector("#kt_ecommerce_sales_flatpickr_clear").addEventListener("click",(function(t){n.clear()})))}});KTUtil.onDOMContentLoaded((function(){l.init()}))})();
//# sourceMappingURL=order_history.js.map