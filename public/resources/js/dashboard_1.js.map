{"version":3,"file":"/resources/js/dashboard_1.js","mappings":"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","sources":["webpack:///./resources/js/dashboard_1.js"],"sourcesContent":["\"use strict\";\n\nlet from = moment().subtract(10, 'days').format('YYYY-MM-DD');\nlet to = moment().format('YYYY-MM-DD');\n\n// Init flatpickr --- more info :https://flatpickr.js.org/getting-started/\nvar initFlatpickr = () => {\n    const element = document.querySelector('#kt_ecommerce_sales_flatpickr');\n    flatpickr = $(element).flatpickr({\n        altInput: true,\n        altFormat: \"d/m/Y\",\n        dateFormat: \"Y-m-d\",\n        defaultDate: [from, to],\n        locale: {\n            rangeSeparator: ' - ',\n        },\n        mode: \"range\",\n        onChange: function (selectedDates, dateStr, instance) {\n            handleFlatpickr(selectedDates, dateStr, instance);\n        },\n    });\n}\n\nlet chart = null;\n\nvar initChart = function (fromDate, toDate) {\n    var element = document.getElementById(\"kt_charts_widget_dashboard_3\");\n\n    if (!element) {\n        return;\n    }\n\n    var height = parseInt(KTUtil.css(element, 'height'));\n    var labelColor = KTUtil.getCssVariableValue('--bs-gray-500');\n    var borderColor = KTUtil.getCssVariableValue('--bs-border-dashed-color');\n    var baseColor = KTUtil.getCssVariableValue('--bs-success');\n    var lightColor = KTUtil.getCssVariableValue('--bs-success');\n\n    $.ajax({\n        type: 'GET',\n        url: `/report/sales?from=${fromDate}&to=${toDate}`,\n        success: function (res) {\n            var options = {\n                series: [{\n                    name: 'Doanh thu',\n                    data: res.data,\n                }],\n                chart: {\n                    fontFamily: 'inherit',\n                    type: 'area',\n                    height: height,\n                    toolbar: {\n                        show: false\n                    }\n                },\n                plotOptions: {\n                },\n                legend: {\n                    show: false\n                },\n                dataLabels: {\n                    enabled: false\n                },\n                fill: {\n                    type: \"gradient\",\n                    gradient: {\n                        shadeIntensity: 1,\n                        opacityFrom: 0.3,\n                        opacityTo: 0.7,\n                        stops: [0, 90, 100]\n                    }\n                },\n                stroke: {\n                    curve: 'smooth',\n                    show: true,\n                    width: 3,\n                    colors: [baseColor]\n                },\n                xaxis: {\n                    categories: res.dates,\n                    axisBorder: {\n                        show: false,\n                    },\n                    axisTicks: {\n                        show: false\n                    },\n                    tickAmount: 6,\n                    labels: {\n                        rotate: 0,\n                        rotateAlways: true,\n                        style: {\n                            colors: labelColor,\n                            fontSize: '12px'\n                        }\n                    },\n                    crosshairs: {\n                        position: 'front',\n                        stroke: {\n                            color: baseColor,\n                            width: 1,\n                            dashArray: 3\n                        }\n                    },\n                    tooltip: {\n                        enabled: true,\n                        formatter: undefined,\n                        offsetY: 0,\n                        style: {\n                            fontSize: '12px'\n                        }\n                    }\n                },\n                yaxis: {\n                    tickAmount: 4,\n                    labels: {\n                        style: {\n                            colors: labelColor,\n                            fontSize: '12px'\n                        },\n                        formatter: function (val) {\n                            return Number(val / 1000).toFixed(1) + \"K\"\n                        }\n                    }\n                },\n                states: {\n                    normal: {\n                        filter: {\n                            type: 'none',\n                            value: 0\n                        }\n                    },\n                    hover: {\n                        filter: {\n                            type: 'none',\n                            value: 0\n                        }\n                    },\n                    active: {\n                        allowMultipleDataPointsSelection: false,\n                        filter: {\n                            type: 'none',\n                            value: 0\n                        }\n                    }\n                },\n                tooltip: {\n                    style: {\n                        fontSize: '12px'\n                    },\n                    y: {\n                        formatter: function (val) {\n                            return Number(val / 1000).toFixed(1) + \"K\"\n                        }\n                    }\n                },\n                colors: [lightColor],\n                grid: {\n                    borderColor: borderColor,\n                    strokeDashArray: 4,\n                    yaxis: {\n                        lines: {\n                            show: true\n                        }\n                    }\n                },\n                markers: {\n                    strokeColor: baseColor,\n                    strokeWidth: 3\n                }\n            };\n\n            chart = new ApexCharts(element, options);\n\n            // Set timeout to properly get the parent elements width\n            setTimeout(function () {\n                chart.render();\n            }, 300);\n        },\n    });\n}\n\n// Handle flatpickr --- more info: https://flatpickr.js.org/events/\nvar handleFlatpickr = (selectedDates, dateStr, instance) => {\n    const dates = dateStr.split(' - ');\n    const fromDate = dates[0] ?? null;\n    const toDate = dates[1] ?? null;\n\n    if (fromDate && toDate) {\n        var labelColor = KTUtil.getCssVariableValue('--bs-gray-500');\n        var baseColor = KTUtil.getCssVariableValue('--bs-success');\n\n        $.ajax({\n            type: 'GET',\n            url: `/report/sales?from=${fromDate}&to=${toDate}`,\n            success: function (res) {\n                chart.updateOptions({\n                    series: [{\n                        data: res.data,\n                    }],\n                    xaxis: {\n                        categories: res.dates,\n                        axisBorder: {\n                            show: false,\n                        },\n                        axisTicks: {\n                            show: false,\n                        },\n                        tickAmount: 6,\n                        labels: {\n                            rotate: 0,\n                            rotateAlways: true,\n                            style: {\n                                colors: labelColor,\n                                fontSize: '12px',\n                            },\n                        },\n                        crosshairs: {\n                            position: 'front',\n                            stroke: {\n                                color: baseColor,\n                                width: 1,\n                                dashArray: 3,\n                            },\n                        },\n                        tooltip: {\n                            enabled: true,\n                            formatter: undefined,\n                            offsetY: 0,\n                            style: {\n                                fontSize: '12px'\n                            },\n                        },\n                    },\n                });\n            }\n        });\n    }\n}\n\n// On document ready\nKTUtil.onDOMContentLoaded(function () {\n    initFlatpickr();\n    initChart(from, to);\n});\n"],"names":["from","moment","subtract","format","to","chart","handleFlatpickr","selectedDates","dateStr","instance","_dates$","_dates$2","dates","split","fromDate","toDate","labelColor","KTUtil","getCssVariableValue","baseColor","$","ajax","type","url","concat","success","res","updateOptions","series","data","xaxis","categories","axisBorder","show","axisTicks","tickAmount","labels","rotate","rotateAlways","style","colors","fontSize","crosshairs","position","stroke","color","width","dashArray","tooltip","enabled","formatter","undefined","offsetY","onDOMContentLoaded","element","document","querySelector","flatpickr","altInput","altFormat","dateFormat","defaultDate","locale","rangeSeparator","mode","onChange","getElementById","height","parseInt","css","borderColor","lightColor","options","name","fontFamily","toolbar","plotOptions","legend","dataLabels","fill","gradient","shadeIntensity","opacityFrom","opacityTo","stops","curve","yaxis","val","Number","toFixed","states","normal","filter","value","hover","active","allowMultipleDataPointsSelection","y","grid","strokeDashArray","lines","markers","strokeColor","strokeWidth","ApexCharts","setTimeout","render","initChart"],"sourceRoot":""}